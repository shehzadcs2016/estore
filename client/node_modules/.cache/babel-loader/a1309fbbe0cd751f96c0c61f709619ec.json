{"ast":null,"code":"import jwtDecode from 'jwt-decode';\nimport store from '../redux/index';\nimport { Logout } from '../redux/actions/index';\nexport const isAuthenticated = () => {\n  const token = localStorage.getItem(\"jwt\");\n\n  if (token) {\n    const decodedtoken = jwtDecode(token);\n\n    if (decodedtoken.exp * 1000 < Date.now()) {\n      store.dispatch(Logout());\n      window.location.href = '/SignIn';\n      return false;\n    }\n\n    return JSON.parse(localStorage.getItem(\"jwt\"));\n  } else {\n    store.dispatch({\n      type: 'SET_UNAUTHENTICATED'\n    });\n    return false;\n  }\n};\nexport const SignOut = () => {\n  if (typeof window !== \"undefined\") {\n    localStorage.removeItem(\"jwt\");\n    store.dispatch({\n      type: 'SET_UNAUTHENTICATED'\n    });\n    window.location.href = \"/login\";\n  }\n\n  ;\n};","map":{"version":3,"sources":["F:/softwears/node-react/shoppingSite/shopping-front/src/auth/index.js"],"names":["jwtDecode","store","Logout","isAuthenticated","token","localStorage","getItem","decodedtoken","exp","Date","now","dispatch","window","location","href","JSON","parse","type","SignOut","removeItem"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,SAAQC,MAAR,QAAqB,wBAArB;AACA,OAAO,MAAMC,eAAe,GAAG,MAAM;AACnC,QAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAd;;AACA,MAAIF,KAAJ,EAAW;AACT,UAAMG,YAAY,GAAGP,SAAS,CAACI,KAAD,CAA9B;;AACA,QAAIG,YAAY,CAACC,GAAb,GAAmB,IAAnB,GAA0BC,IAAI,CAACC,GAAL,EAA9B,EAA0C;AACxCT,MAAAA,KAAK,CAACU,QAAN,CAAeT,MAAM,EAArB;AACAU,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,SAAvB;AACA,aAAO,KAAP;AACD;;AACD,WAAOC,IAAI,CAACC,KAAL,CAAWX,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAX,CAAP;AACD,GARD,MAQO;AACHL,IAAAA,KAAK,CAACU,QAAN,CAAe;AAACM,MAAAA,IAAI,EAAC;AAAN,KAAf;AACF,WAAO,KAAP;AACD;AACF,CAdM;AAeP,OAAO,MAAMC,OAAO,GAAG,MAAM;AAC3B,MAAI,OAAON,MAAP,KAAkB,WAAtB,EAAmC;AACjCP,IAAAA,YAAY,CAACc,UAAb,CAAwB,KAAxB;AACAlB,IAAAA,KAAK,CAACU,QAAN,CAAe;AAAEM,MAAAA,IAAI,EAAE;AAAR,KAAf;AACFL,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,QAAvB;AAEC;;AAAA;AAEF,CARM","sourcesContent":["import jwtDecode from 'jwt-decode';\r\nimport store from '../redux/index';\r\nimport {Logout} from '../redux/actions/index'\r\nexport const isAuthenticated = () => {\r\n  const token = localStorage.getItem(\"jwt\");\r\n  if (token) {\r\n    const decodedtoken = jwtDecode(token);\r\n    if (decodedtoken.exp * 1000 < Date.now()) {\r\n      store.dispatch(Logout());\r\n      window.location.href = '/SignIn'\r\n      return false;\r\n    }\r\n    return JSON.parse(localStorage.getItem(\"jwt\"));\r\n  } else {\r\n      store.dispatch({type:'SET_UNAUTHENTICATED'});\r\n    return false;\r\n  }\r\n};\r\nexport const SignOut = () => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.removeItem(\"jwt\");\r\n    store.dispatch({ type: 'SET_UNAUTHENTICATED' });\r\n  window.location.href = \"/login\";\r\n\r\n  };\r\n  \r\n};\r\n"]},"metadata":{},"sourceType":"module"}