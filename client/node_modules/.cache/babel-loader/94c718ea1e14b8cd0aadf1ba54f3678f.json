{"ast":null,"code":"import jwtDecode from\"jwt-decode\";import store from\"../redux/index\";import{Logout}from\"../redux/actions/index\";export var isAuthenticated=function isAuthenticated(){var token=localStorage.getItem(\"jwt\");if(token){var decodedtoken=jwtDecode(token);if(decodedtoken.exp*1000<Date.now()){store.dispatch(Logout());window.location.href=\"/SignIn\";return false;}return JSON.parse(localStorage.getItem(\"jwt\"));}else{store.dispatch({type:\"SET_UNAUTHENTICATED\"});return false;}};export var SignOut=function SignOut(){if(typeof window!==\"undefined\"){localStorage.removeItem(\"jwt\");store.dispatch({type:\"SET_UNAUTHENTICATED\"});window.location.href=\"/login\";}};","map":{"version":3,"sources":["F:/softwears/node-react/shoppingSite/server/client/src/auth/index.js"],"names":["jwtDecode","store","Logout","isAuthenticated","token","localStorage","getItem","decodedtoken","exp","Date","now","dispatch","window","location","href","JSON","parse","type","SignOut","removeItem"],"mappings":"AAAA,MAAOA,CAAAA,SAAP,KAAsB,YAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,gBAAlB,CACA,OAASC,MAAT,KAAuB,wBAAvB,CACA,MAAO,IAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CACnC,GAAMC,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAd,CACA,GAAIF,KAAJ,CAAW,CACT,GAAMG,CAAAA,YAAY,CAAGP,SAAS,CAACI,KAAD,CAA9B,CACA,GAAIG,YAAY,CAACC,GAAb,CAAmB,IAAnB,CAA0BC,IAAI,CAACC,GAAL,EAA9B,CAA0C,CACxCT,KAAK,CAACU,QAAN,CAAeT,MAAM,EAArB,EACAU,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,SAAvB,CACA,MAAO,MAAP,CACD,CACD,MAAOC,CAAAA,IAAI,CAACC,KAAL,CAAWX,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAX,CAAP,CACD,CARD,IAQO,CACLL,KAAK,CAACU,QAAN,CAAe,CAAEM,IAAI,CAAE,qBAAR,CAAf,EACA,MAAO,MAAP,CACD,CACF,CAdM,CAeP,MAAO,IAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CAC3B,GAAI,MAAON,CAAAA,MAAP,GAAkB,WAAtB,CAAmC,CACjCP,YAAY,CAACc,UAAb,CAAwB,KAAxB,EACAlB,KAAK,CAACU,QAAN,CAAe,CAAEM,IAAI,CAAE,qBAAR,CAAf,EACAL,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,QAAvB,CACD,CACF,CANM","sourcesContent":["import jwtDecode from \"jwt-decode\";\r\nimport store from \"../redux/index\";\r\nimport { Logout } from \"../redux/actions/index\";\r\nexport const isAuthenticated = () => {\r\n  const token = localStorage.getItem(\"jwt\");\r\n  if (token) {\r\n    const decodedtoken = jwtDecode(token);\r\n    if (decodedtoken.exp * 1000 < Date.now()) {\r\n      store.dispatch(Logout());\r\n      window.location.href = \"/SignIn\";\r\n      return false;\r\n    }\r\n    return JSON.parse(localStorage.getItem(\"jwt\"));\r\n  } else {\r\n    store.dispatch({ type: \"SET_UNAUTHENTICATED\" });\r\n    return false;\r\n  }\r\n};\r\nexport const SignOut = () => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.removeItem(\"jwt\");\r\n    store.dispatch({ type: \"SET_UNAUTHENTICATED\" });\r\n    window.location.href = \"/login\";\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}