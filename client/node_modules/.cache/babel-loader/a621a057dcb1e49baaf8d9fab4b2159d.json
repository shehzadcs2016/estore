{"ast":null,"code":"import axios from \"axios\";\nimport { isAuthenticated } from \"../../auth\";\nexport const LoginAction = user => async dispatch => {\n  dispatch({\n    type: \"LOADING_UI\"\n  });\n  const products = await axios({\n    method: \"post\",\n    url: \"http://localhost:3000/signIn\",\n    data: user\n  }).then(res => {\n    if (typeof window !== \"undefined\") {\n      localStorage.setItem(\"jwt\", JSON.stringify(res.data));\n    }\n\n    dispatch({\n      type: \"SET_AUTHENTICATED\"\n    });\n    dispatch({\n      type: \"CLEAR_ERRORS\"\n    }); // window.location.href=\"/\"\n\n    return res.data;\n  }).catch(error => {\n    // Error\n    if (error.response) {\n      dispatch({\n        type: \"SET_ERRORS\",\n        payload: error.response.data\n      });\n    }\n  }); // console.log(products.data);\n\n  dispatch({\n    type: \"LOGIN\",\n    payload: products\n  });\n};\nexport const SignUpAction = user => async dispatch => {\n  dispatch({\n    type: \"LOADING_UI\"\n  });\n  const products = await axios({\n    method: \"post\",\n    url: \"http://localhost:3000/signUp\",\n    data: user\n  }).then(res => {\n    dispatch({\n      type: \"CLEAR_ERRORS\"\n    }); // window.location.href=\"/\"\n\n    return res.data;\n  }).catch(error => {\n    // Error\n    if (error.response) {\n      dispatch({\n        type: \"SET_ERRORS\",\n        payload: error.response.data\n      });\n    }\n  }); // console.log(products.data);\n\n  dispatch({\n    type: \"SIGNUP\",\n    payload: products\n  });\n};\nexport const fetchProducts = () => async dispatch => {\n  dispatch({\n    type: \"LOADING_UI\"\n  });\n  await axios({\n    method: \"get\",\n    url: `http://localhost:3000/products`\n  }).then(res => {\n    dispatch({\n      type: \"FETCH_PRODUCTS\",\n      payload: res.data\n    });\n    return res;\n  }).catch(error => {\n    // Error\n    if (error.response) {\n      dispatch({\n        type: \"SET_ERRORS\",\n        payload: error.response.data\n      });\n    }\n  }); // console.log(products.data,\"sabjah\");\n};\nexport const fetchProduct = id => async dispatch => {\n  // console.log(id,\"iid\");\n  await axios({\n    method: \"get\",\n    url: `http://localhost:3000/products/${id}`\n  }).then(res => {\n    dispatch({\n      type: \"FETCH_PRODUCT\",\n      payload: res.data\n    });\n    return res;\n  }); // console.log(products.data);\n};\nexport const fetchPosts = () => async dispatch => {\n  await axios({\n    method: \"get\",\n    url: `http://localhost:3000/post`\n  }).then(res => {\n    dispatch({\n      type: \"FETCH_BLOGS\",\n      payload: res.data\n    });\n    return res;\n  }); // console.log(posts.data);\n};\nexport const fetchPost = id => async dispatch => {\n  await axios({\n    method: \"get\",\n    url: `http://localhost:3000/post/${id}`\n  }).then(res => {\n    dispatch({\n      type: \"FETCH_BLOG\",\n      payload: res.data\n    });\n    return res;\n  });\n};\nexport const fetchRecord = search => async dispatch => {\n  await axios({\n    method: \"get\",\n    url: `http://localhost:3000/search/${search}`\n  }).then(res => {\n    dispatch({\n      type: \"FETCH_SEARCH\",\n      payload: res.data\n    });\n    return res;\n  }); // console.log(sea);\n};\nexport const createCart = product => async dispatch => {\n  const user = isAuthenticated().user;\n  await axios({\n    method: \"post\",\n    url: `http://localhost:3000/cart`,\n    data: {\n      product,\n      user\n    }\n  }).then(res => {\n    dispatch({\n      type: \"CREATE_CART\",\n      payload: res.data\n    });\n    window.location.href = \"/cart\"; // window.location.href=\"/\"\n\n    return res.data;\n  }).catch(error => {\n    // Error\n    if (error.response) {\n      dispatch({\n        type: \"SET_ERRORS\",\n        payload: error.response.data\n      });\n    }\n  }); // console.log(cart.data);\n};\nexport const fetchCarts = () => async dispatch => {\n  if (isAuthenticated()) {\n    const user = isAuthenticated().user._id;\n\n    await axios({\n      method: \"get\",\n      url: `http://localhost:3000/cart/${user}`\n    }).then(res => {\n      dispatch({\n        type: \"FETCH_CARTS\",\n        payload: res.data\n      });\n      return res.data;\n    }).catch(error => {\n      // Error\n      if (error.response) {\n        dispatch({\n          type: \"SET_ERRORS\",\n          payload: error.response.data\n        });\n      }\n    });\n  } // console.log(cart.data,\"cart\");\n\n}; // comment actions\n\nexport const CommentAction = (id, comment) => async dispatch => {\n  const user = isAuthenticated().user;\n  dispatch({\n    type: \"LOADING_UI\"\n  });\n  await axios({\n    method: \"post\",\n    url: `http://localhost:3000/post/comment/${id}`,\n    data: {\n      user,\n      comment\n    }\n  }).then(res => {\n    dispatch({\n      type: \"CLEAR_ERRORS\"\n    });\n    dispatch({\n      type: \"COMMENT_BLOG\",\n      payload: res.data\n    }); // window.location.href=\"/\"\n\n    return res.data;\n  }).catch(error => {\n    // Error\n    if (error.response) {\n      dispatch({\n        type: \"SET_ERRORS\",\n        payload: error.response.data\n      });\n    }\n  }); // console.log(products.data);\n};\nexport const FetchComment = id => async dispatch => {\n  dispatch({\n    type: \"LOADING_UI\"\n  });\n  await axios({\n    method: \"get\",\n    url: `http://localhost:3000/comment/${id}`\n  }).then(res => {\n    dispatch({\n      type: \"COMMENTS\",\n      payload: res.data\n    }); // window.location.href=\"/\"\n\n    return res.data;\n  }); // console.log(products.data);\n}; // end comment actions\n\nexport const Logout = () => dispatch => {\n  localStorage.removeItem(\"jwt\");\n  dispatch({\n    type: \"SET_UNAUTHENTICATED\"\n  });\n  window.location.href = \"/login\";\n};","map":{"version":3,"sources":["F:/softwears/node-react/shoppingSite/shopping-front/src/redux/actions/index.js"],"names":["axios","isAuthenticated","LoginAction","user","dispatch","type","products","method","url","data","then","res","window","localStorage","setItem","JSON","stringify","catch","error","response","payload","SignUpAction","fetchProducts","fetchProduct","id","fetchPosts","fetchPost","fetchRecord","search","createCart","product","location","href","fetchCarts","_id","CommentAction","comment","FetchComment","Logout","removeItem"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { isAuthenticated } from \"../../auth\";\r\n\r\nexport const LoginAction = user => async dispatch => {\r\n  dispatch({\r\n    type: \"LOADING_UI\"\r\n  });\r\n  const products = await axios({\r\n    method: \"post\",\r\n    url: \"http://localhost:3000/signIn\",\r\n    data: user\r\n  })\r\n    .then(res => {\r\n      if (typeof window !== \"undefined\") {\r\n        localStorage.setItem(\"jwt\", JSON.stringify(res.data));\r\n      }\r\n      dispatch({\r\n        type: \"SET_AUTHENTICATED\"\r\n      });\r\n      dispatch({\r\n        type: \"CLEAR_ERRORS\"\r\n      });\r\n      // window.location.href=\"/\"\r\n      return res.data;\r\n    })\r\n    .catch(error => {\r\n      // Error\r\n      if (error.response) {\r\n        dispatch({\r\n          type: \"SET_ERRORS\",\r\n          payload: error.response.data\r\n        });\r\n      }\r\n    });\r\n  // console.log(products.data);\r\n\r\n  dispatch({\r\n    type: \"LOGIN\",\r\n    payload: products\r\n  });\r\n};\r\n\r\nexport const SignUpAction = user => async dispatch => {\r\n  dispatch({\r\n    type: \"LOADING_UI\"\r\n  });\r\n  const products = await axios({\r\n    method: \"post\",\r\n    url: \"http://localhost:3000/signUp\",\r\n    data: user\r\n  })\r\n    .then(res => {\r\n      dispatch({\r\n        type: \"CLEAR_ERRORS\"\r\n      });\r\n\r\n      // window.location.href=\"/\"\r\n      return res.data;\r\n    })\r\n    .catch(error => {\r\n      // Error\r\n      if (error.response) {\r\n        dispatch({\r\n          type: \"SET_ERRORS\",\r\n          payload: error.response.data\r\n        });\r\n      }\r\n    });\r\n  // console.log(products.data);\r\n  dispatch({\r\n    type: \"SIGNUP\",\r\n    payload: products\r\n  });\r\n};\r\n\r\nexport const fetchProducts = () => async dispatch => {\r\n  dispatch({\r\n    type: \"LOADING_UI\"\r\n  });\r\n  await axios({\r\n    method: \"get\",\r\n    url: `http://localhost:3000/products`\r\n  })\r\n    .then(res => {\r\n      dispatch({\r\n        type: \"FETCH_PRODUCTS\",\r\n        payload: res.data\r\n      });\r\n\r\n      return res;\r\n    })\r\n    .catch(error => {\r\n      // Error\r\n      if (error.response) {\r\n        dispatch({\r\n          type: \"SET_ERRORS\",\r\n          payload: error.response.data\r\n        });\r\n      }\r\n    });\r\n  // console.log(products.data,\"sabjah\");\r\n};\r\n\r\nexport const fetchProduct = id => async dispatch => {\r\n  // console.log(id,\"iid\");\r\n\r\n  await axios({\r\n    method: \"get\",\r\n    url: `http://localhost:3000/products/${id}`\r\n  }).then(res => {\r\n    dispatch({\r\n      type: \"FETCH_PRODUCT\",\r\n      payload: res.data\r\n    });\r\n    return res;\r\n  });\r\n  // console.log(products.data);\r\n};\r\n\r\nexport const fetchPosts = () => async dispatch => {\r\n  await axios({\r\n    method: \"get\",\r\n    url: `http://localhost:3000/post`\r\n  }).then(res => {\r\n    dispatch({\r\n      type: \"FETCH_BLOGS\",\r\n      payload: res.data\r\n    });\r\n    return res;\r\n  });\r\n  // console.log(posts.data);\r\n};\r\n\r\nexport const fetchPost = id => async dispatch => {\r\n  await axios({\r\n    method: \"get\",\r\n    url: `http://localhost:3000/post/${id}`\r\n  }).then(res => {\r\n    dispatch({\r\n      type: \"FETCH_BLOG\",\r\n      payload: res.data\r\n    });\r\n    return res;\r\n  });\r\n};\r\n\r\nexport const fetchRecord = search => async dispatch => {\r\n  await axios({\r\n    method: \"get\",\r\n    url: `http://localhost:3000/search/${search}`\r\n  }).then(res => {\r\n    dispatch({\r\n      type: \"FETCH_SEARCH\",\r\n      payload: res.data\r\n    });\r\n    return res;\r\n  });\r\n\r\n  // console.log(sea);\r\n};\r\n\r\nexport const createCart = product => async dispatch => {\r\n  const user = isAuthenticated().user;\r\n  await axios({\r\n    method: \"post\",\r\n    url: `http://localhost:3000/cart`,\r\n    data: { product, user }\r\n  })\r\n    .then(res => {\r\n      dispatch({\r\n        type: \"CREATE_CART\",\r\n        payload: res.data\r\n      });\r\n      window.location.href = \"/cart\";\r\n      // window.location.href=\"/\"\r\n      return res.data;\r\n    })\r\n    .catch(error => {\r\n      // Error\r\n      if (error.response) {\r\n        dispatch({\r\n          type: \"SET_ERRORS\",\r\n          payload: error.response.data\r\n        });\r\n      }\r\n    });\r\n  // console.log(cart.data);\r\n};\r\n\r\nexport const fetchCarts = () => async dispatch => {\r\n  if (isAuthenticated()) {\r\n    const user = isAuthenticated().user._id;\r\n    await axios({\r\n      method: \"get\",\r\n      url: `http://localhost:3000/cart/${user}`\r\n    })\r\n      .then(res => {\r\n        dispatch({\r\n          type: \"FETCH_CARTS\",\r\n          payload: res.data\r\n        });\r\n        return res.data;\r\n      })\r\n      .catch(error => {\r\n        // Error\r\n        if (error.response) {\r\n          dispatch({\r\n            type: \"SET_ERRORS\",\r\n            payload: error.response.data\r\n          });\r\n        }\r\n      });\r\n  }\r\n  // console.log(cart.data,\"cart\");\r\n};\r\n// comment actions\r\n\r\nexport const CommentAction = (id, comment) => async dispatch => {\r\n  const user = isAuthenticated().user;\r\n  dispatch({\r\n    type: \"LOADING_UI\"\r\n  });\r\n  await axios({\r\n    method: \"post\",\r\n    url: `http://localhost:3000/post/comment/${id}`,\r\n    data: { user, comment }\r\n  })\r\n    .then(res => {\r\n      dispatch({\r\n        type: \"CLEAR_ERRORS\"\r\n      });\r\n      dispatch({\r\n        type: \"COMMENT_BLOG\",\r\n        payload: res.data\r\n      });\r\n      // window.location.href=\"/\"\r\n      return res.data;\r\n    })\r\n    .catch(error => {\r\n      // Error\r\n      if (error.response) {\r\n        dispatch({\r\n          type: \"SET_ERRORS\",\r\n          payload: error.response.data\r\n        });\r\n      }\r\n    });\r\n  // console.log(products.data);\r\n};\r\n\r\nexport const FetchComment = id => async dispatch => {\r\n  dispatch({\r\n    type: \"LOADING_UI\"\r\n  });\r\n  await axios({\r\n    method: \"get\",\r\n    url: `http://localhost:3000/comment/${id}`\r\n  }).then(res => {\r\n    dispatch({\r\n      type: \"COMMENTS\",\r\n      payload: res.data\r\n    });\r\n    // window.location.href=\"/\"\r\n    return res.data;\r\n  });\r\n  // console.log(products.data);\r\n};\r\n\r\n// end comment actions\r\n\r\nexport const Logout = () => dispatch => {\r\n  localStorage.removeItem(\"jwt\");\r\n  dispatch({\r\n    type: \"SET_UNAUTHENTICATED\"\r\n  });\r\n  window.location.href = \"/login\";\r\n};\r\n"]},"metadata":{},"sourceType":"module"}