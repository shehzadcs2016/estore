{"ast":null,"code":"import axios from 'axios';\nimport { isAuthenticated } from '../../auth';\nexport const LoginAction = user => async dispatch => {\n  dispatch({\n    type: \"LOADING_UI\"\n  });\n  const products = await axios({\n    method: \"post\",\n    url: \"http://localhost:3000/signIn\",\n    data: user\n  }).then(res => {\n    if (typeof window !== \"undefined\") {\n      localStorage.setItem(\"jwt\", JSON.stringify(res.data));\n    }\n\n    dispatch({\n      type: \"SET_AUTHENTICATED\"\n    });\n    dispatch({\n      type: 'CLEAR_ERRORS'\n    }); // window.location.href=\"/\"\n\n    return res.data;\n  }).catch(error => {\n    // Error\n    if (error.response) {\n      dispatch({\n        type: \"SET_ERRORS\",\n        payload: error.response.data\n      });\n    }\n  }); // console.log(products.data);\n\n  dispatch({\n    type: \"LOGIN\",\n    payload: products\n  });\n};\nexport const SignUpAction = user => async dispatch => {\n  dispatch({\n    type: \"LOADING_UI\"\n  });\n  const products = await axios({\n    method: \"post\",\n    url: \"http://localhost:3000/signUp\",\n    data: user\n  }).then(res => {\n    dispatch({\n      type: 'CLEAR_ERRORS'\n    }); // window.location.href=\"/\"\n\n    return res.data;\n  }).catch(error => {\n    // Error\n    if (error.response) {\n      dispatch({\n        type: \"SET_ERRORS\",\n        payload: error.response.data\n      });\n    }\n  }); // console.log(products.data);\n\n  dispatch({\n    type: \"SIGNUP\",\n    payload: products\n  });\n};\nexport const fetchProducts = () => async dispatch => {\n  dispatch({\n    type: \"LOADING_UI\"\n  });\n  await axios({\n    method: \"get\",\n    url: `http://localhost:3000/products`\n  }).then(res => {\n    dispatch({\n      type: \"FETCH_PRODUCTS\",\n      payload: res.data\n    });\n    return res;\n  }).catch(error => {\n    // Error\n    if (error.response) {\n      dispatch({\n        type: \"SET_ERRORS\",\n        payload: error.response.data\n      });\n    }\n  }); // console.log(products.data,\"sabjah\");\n};\nexport const fetchProduct = id => async dispatch => {\n  // console.log(id,\"iid\");\n  await axios({\n    method: \"get\",\n    url: `http://localhost:3000/products/${id}`\n  }).then(res => {\n    dispatch({\n      type: \"FETCH_PRODUCT\",\n      payload: res.data\n    });\n    return res;\n  }); // console.log(products.data);\n};\nexport const fetchPosts = () => async dispatch => {\n  await axios({\n    method: \"get\",\n    url: `http://localhost:3000/post`\n  }).then(res => {\n    dispatch({\n      type: \"FETCH_BLOGS\",\n      payload: res.data\n    });\n    return res;\n  }); // console.log(posts.data);\n};\nexport const fetchPost = id => async dispatch => {\n  await axios({\n    method: \"get\",\n    url: `http://localhost:3000/post/${id}`\n  }).then(res => {\n    dispatch({\n      type: \"FETCH_BLOG\",\n      payload: res.data\n    });\n    return res;\n  });\n}; //categories\n\nexport const fetchWomen = () => async dispatch => {\n  const search = \"women\";\n  const men = await axios({\n    method: \"get\",\n    url: `http://localhost:3000/search/${search}`\n  }).then(res => {\n    dispatch({\n      type: \"FETCH_WOMEN\",\n      payload: res.data\n    });\n    return res;\n  }); // console.log(women.data);\n};\nexport const fetchMen = () => async dispatch => {\n  const search = \"men\";\n  await axios({\n    method: \"get\",\n    url: `http://localhost:3000/search/${search}`\n  }).then(res => {\n    dispatch({\n      type: \"FETCH_MEN\",\n      payload: res.data\n    });\n    return res;\n  }); // console.log(men.data);\n};\nexport const fetchRecord = search => async dispatch => {\n  await axios({\n    method: \"get\",\n    url: `http://localhost:3000/search/${search}`\n  }).then(res => {\n    dispatch({\n      type: \"FETCH_SEARCH\",\n      payload: res.data\n    });\n    return res;\n  }); // console.log(sea);\n};\nexport const fetchElectronics = () => async dispatch => {\n  const search = 'electronics';\n  await axios({\n    method: \"get\",\n    url: `http://localhost:3000/search/${search}`\n  }).then(res => {\n    dispatch({\n      type: \"FETCH_ELECTRONICS\",\n      payload: res.data\n    });\n    return res;\n  }); // console.log(electronics.data);\n};\nexport const fetchFashion = () => async dispatch => {\n  const search = 'fashion';\n  const fashion = await axios({\n    method: \"get\",\n    url: `http://localhost:3000/search/${search}`\n  }).then(res => {\n    return res;\n  }); // console.log(fashion.data);\n\n  dispatch({\n    type: \"FETCH_FASHION\",\n    payload: fashion.data\n  });\n};\nexport const fetchSports = () => async dispatch => {\n  const search = 'sports';\n  await axios({\n    method: \"get\",\n    url: `http://localhost:3000/search/${search}`\n  }).then(res => {\n    dispatch({\n      type: \"FETCH_SPORTS\",\n      payload: res.data\n    });\n    return res;\n  }); // console.log(sports.data);\n};\nexport const createCart = product => async dispatch => {\n  const user = isAuthenticated().user;\n  await axios({\n    method: \"post\",\n    url: `http://localhost:3000/cart`,\n    data: {\n      product,\n      user\n    }\n  }).then(res => {\n    dispatch({\n      type: \"CREATE_CART\",\n      payload: res.data\n    });\n    window.location.href = \"/cart\"; // window.location.href=\"/\"\n\n    return res.data;\n  }).catch(error => {\n    // Error\n    if (error.response) {\n      dispatch({\n        type: \"SET_ERRORS\",\n        payload: error.response.data\n      });\n    }\n  }); // console.log(cart.data);\n};\nexport const fetchCarts = () => async dispatch => {\n  if (isAuthenticated()) {\n    const user = isAuthenticated().user._id;\n\n    await axios({\n      method: \"get\",\n      url: `http://localhost:3000/cart/${user}`\n    }).then(res => {\n      dispatch({\n        type: \"FETCH_CARTS\",\n        payload: res.data\n      });\n      return res.data;\n    }).catch(error => {\n      // Error\n      if (error.response) {\n        dispatch({\n          type: \"SET_ERRORS\",\n          payload: error.response.data\n        });\n      }\n    });\n  } // console.log(cart.data,\"cart\");\n\n}; // comment actions\n\nexport const CommentAction = (id, comment) => async dispatch => {\n  const user = isAuthenticated().user;\n  dispatch({\n    type: \"LOADING_UI\"\n  });\n  await axios({\n    method: \"post\",\n    url: `http://localhost:3000/post/comment/${id}`,\n    data: {\n      user,\n      comment\n    }\n  }).then(res => {\n    dispatch({\n      type: 'CLEAR_ERRORS'\n    });\n    dispatch({\n      type: \"COMMENT_BLOG\",\n      payload: res.data\n    }); // window.location.href=\"/\"\n\n    return res.data;\n  }).catch(error => {\n    // Error\n    if (error.response) {\n      dispatch({\n        type: \"SET_ERRORS\",\n        payload: error.response.data\n      });\n    }\n  }); // console.log(products.data);\n};\nexport const FetchComment = id => async dispatch => {\n  dispatch({\n    type: \"LOADING_UI\"\n  });\n  await axios({\n    method: \"get\",\n    url: `http://localhost:3000/comment/${id}`\n  }).then(res => {\n    dispatch({\n      type: \"COMMENTS\",\n      payload: res.data\n    }); // window.location.href=\"/\"\n\n    return res.data;\n  }); // console.log(products.data);\n}; // end comment actions\n\nexport const Logout = () => dispatch => {\n  localStorage.removeItem(\"jwt\");\n  dispatch({\n    type: \"SET_UNAUTHENTICATED\"\n  });\n  window.location.href = \"/login\";\n};","map":{"version":3,"sources":["F:/softwears/node-react/shoppingSite/shopping-front/src/redux/actions/index.js"],"names":["axios","isAuthenticated","LoginAction","user","dispatch","type","products","method","url","data","then","res","window","localStorage","setItem","JSON","stringify","catch","error","response","payload","SignUpAction","fetchProducts","fetchProduct","id","fetchPosts","fetchPost","fetchWomen","search","men","fetchMen","fetchRecord","fetchElectronics","fetchFashion","fashion","fetchSports","createCart","product","location","href","fetchCarts","_id","CommentAction","comment","FetchComment","Logout","removeItem"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport { isAuthenticated } from '../../auth';\r\n\r\nexport const LoginAction = (user) => async dispatch => {\r\n  dispatch({\r\n    type:\"LOADING_UI\"\r\n  })\r\n    const products = await axios({\r\n      method: \"post\",\r\n      url: \"http://localhost:3000/signIn\",\r\n      data: user\r\n    })\r\n      .then(res => {\r\n        if (typeof window !== \"undefined\") {\r\n          localStorage.setItem(\"jwt\", JSON.stringify(res.data));\r\n        }\r\n        dispatch({\r\n        type: \"SET_AUTHENTICATED\"\r\n      });\r\n          dispatch({\r\n              type:'CLEAR_ERRORS'\r\n          })\r\n        // window.location.href=\"/\"\r\n        return res.data;\r\n      })\r\n      .catch(error => {\r\n      // Error\r\n      if (error.response) {\r\n        dispatch({\r\n          type: \"SET_ERRORS\",\r\n          payload: error.response.data\r\n        });\r\n      }\r\n    });\r\n    // console.log(products.data);\r\n    \r\n    dispatch( {\r\n        type: \"LOGIN\",\r\n      payload: products,\r\n        \r\n    })\r\n}\r\n\r\nexport const SignUpAction = (user) => async dispatch => {\r\n  dispatch({\r\n    type:\"LOADING_UI\"\r\n  })\r\n    const products = await axios({\r\n      method: \"post\",\r\n      url: \"http://localhost:3000/signUp\",\r\n      data: user,\r\n    }).then(res => {\r\n          dispatch({\r\n              type:'CLEAR_ERRORS'\r\n          })\r\n    \r\n        // window.location.href=\"/\"\r\n        return res.data;\r\n      })\r\n      .catch(error => {\r\n      // Error\r\n      if (error.response) {\r\n        dispatch({\r\n          type: \"SET_ERRORS\",\r\n          payload: error.response.data\r\n        });\r\n      }\r\n    });\r\n    // console.log(products.data);\r\n    dispatch( {\r\n        type: \"SIGNUP\",\r\n      payload: products,\r\n        \r\n    })\r\n}\r\n\r\n\r\n\r\nexport const fetchProducts = () => async dispatch => {\r\n  dispatch({\r\n    type:\"LOADING_UI\"\r\n  })\r\n     await axios({\r\n      method: \"get\",\r\n      url: `http://localhost:3000/products`\r\n    })\r\n        .then(res => {\r\n          dispatch( {\r\n        type: \"FETCH_PRODUCTS\",\r\n        payload:res.data\r\n          })\r\n          \r\n          return res;          \r\n      }).catch(error => {\r\n      // Error\r\n      if (error.response) {\r\n        dispatch({\r\n          type: \"SET_ERRORS\",\r\n          payload: error.response.data\r\n        });\r\n      }\r\n    });\r\n    // console.log(products.data,\"sabjah\");\r\n    \r\n    \r\n}\r\n\r\n\r\nexport const fetchProduct = (id) => async dispatch => {\r\n  // console.log(id,\"iid\");\r\n  \r\n     await axios({\r\n      method: \"get\",\r\n      url: `http://localhost:3000/products/${id}`\r\n    })\r\n      .then(res => {\r\n    dispatch( {\r\n        type: \"FETCH_PRODUCT\",\r\n        payload:res.data\r\n    })\r\n        return res;\r\n      })\r\n    // console.log(products.data);\r\n    \r\n}\r\n\r\n\r\nexport const fetchPosts = () =>async dispatch=> {\r\n    await axios({\r\n      method: \"get\",\r\n      url: `http://localhost:3000/post`\r\n    })\r\n      .then(res => {\r\n          \r\n    dispatch( {\r\n        type: \"FETCH_BLOGS\",\r\n        payload:res.data\r\n    })\r\n        return res;\r\n      })\r\n    // console.log(posts.data);\r\n  \r\n}\r\n\r\nexport const fetchPost = (id) =>async dispatch=> {\r\n   await axios({\r\n      method: \"get\",\r\n      url: `http://localhost:3000/post/${id}`\r\n    })\r\n      .then(res => {\r\n        \r\n    dispatch( {\r\n        type: \"FETCH_BLOG\",\r\n        payload:res.data\r\n    })\r\n        return res;\r\n      })\r\n    \r\n}\r\n\r\n\r\n//categories\r\n\r\n\r\nexport const fetchWomen = () =>async dispatch=> {\r\n    const search = \"women\";\r\n    const men = await axios({\r\n      method: \"get\",\r\n      url: `http://localhost:3000/search/${search}`,\r\n    })\r\n      .then(res => {\r\n        \r\n    dispatch( {\r\n        type: \"FETCH_WOMEN\",\r\n        payload:res.data\r\n    })\r\n        return res;\r\n      })\r\n    // console.log(women.data);\r\n    \r\n}\r\n\r\n\r\nexport const fetchMen = () => async dispatch => {\r\n  const search = \"men\";\r\n     await axios({\r\n      method: \"get\",\r\n      url: `http://localhost:3000/search/${search}`,\r\n    })\r\n      .then(res => {\r\n        \r\n    dispatch( {\r\n        type: \"FETCH_MEN\",\r\n        payload:res.data\r\n    })\r\n        return res;\r\n      })\r\n    // console.log(men.data);\r\n    \r\n}\r\n\r\n\r\nexport const fetchRecord = (search) =>async dispatch=> {\r\n     await axios({\r\n      method: \"get\",\r\n      url: `http://localhost:3000/search/${search}`,\r\n    }).then(res => {\r\n      \r\n    dispatch( {\r\n        type: \"FETCH_SEARCH\",\r\n        payload:res.data\r\n    })\r\n      return res;\r\n    })\r\n\r\n    // console.log(sea);\r\n    \r\n}\r\n\r\n\r\nexport const fetchElectronics = () => async dispatch => {\r\n  const search = 'electronics';  \r\n     await axios({\r\n      method: \"get\",\r\n      url: `http://localhost:3000/search/${search}`,\r\n    })\r\n      .then(res => {\r\n        dispatch( {\r\n        type: \"FETCH_ELECTRONICS\",\r\n        payload:res.data\r\n    })\r\n        return res;\r\n      })\r\n    // console.log(electronics.data);\r\n}\r\n\r\nexport const fetchFashion = () =>async dispatch=> {\r\n  const search = 'fashion';  \r\n  const fashion = await axios({\r\n      method: \"get\",\r\n      url: `http://localhost:3000/search/${search}`,\r\n    })\r\n      .then(res => {\r\n        return res;\r\n      })\r\n    // console.log(fashion.data);\r\n    \r\n    dispatch( {\r\n        type: \"FETCH_FASHION\",\r\n        payload:fashion.data\r\n    })\r\n}\r\n\r\nexport const fetchSports = () => async dispatch => {\r\n  const search = 'sports';  \r\n  \r\n     await axios({\r\n      method: \"get\",\r\n      url: `http://localhost:3000/search/${search}`,\r\n    })\r\n      .then(res => {\r\n          \r\n    dispatch( {\r\n        type: \"FETCH_SPORTS\",\r\n        payload:res.data\r\n    })\r\n        return res;\r\n      })\r\n    // console.log(sports.data);\r\n  \r\n}\r\n\r\nexport const createCart = (product) => async dispatch => {\r\n  const user = isAuthenticated().user;\r\n     await axios({\r\n      method: \"post\",\r\n      url: `http://localhost:3000/cart`,\r\n      data:{product,user},\r\n    }).then(res => {\r\n      dispatch( {\r\n        type: \"CREATE_CART\",\r\n        payload:res.data\r\n      })\r\n        window.location.href=\"/cart\"\r\n        // window.location.href=\"/\"\r\n        return res.data;\r\n      }).catch(error => {\r\n      // Error\r\n      if (error.response) {\r\n        dispatch({\r\n          type: \"SET_ERRORS\",\r\n          payload: error.response.data\r\n        });\r\n      }\r\n    });\r\n    // console.log(cart.data);\r\n    \r\n}\r\n\r\nexport const fetchCarts = () => async dispatch => {\r\n  if (isAuthenticated()) {\r\n    const user = isAuthenticated().user._id;\r\n     await axios({\r\n      method: \"get\",\r\n      url: `http://localhost:3000/cart/${user}`,\r\n      \r\n    }).then(res => {\r\n      \r\n      dispatch({\r\n        type: \"FETCH_CARTS\",\r\n        payload: res.data\r\n      })\r\n      return res.data;\r\n    }).catch(error => {\r\n      // Error\r\n      if (error.response) {\r\n        dispatch({\r\n          type: \"SET_ERRORS\",\r\n          payload: error.response.data\r\n        });\r\n      }\r\n    });\r\n  }\r\n    // console.log(cart.data,\"cart\");\r\n    \r\n}\r\n// comment actions\r\n\r\nexport const CommentAction = (id, comment) => async dispatch => {\r\n  const user = isAuthenticated().user;\r\n  dispatch({\r\n    type:\"LOADING_UI\"\r\n  })\r\n    await axios({\r\n      method: \"post\",\r\n      url: `http://localhost:3000/post/comment/${id}`,\r\n      data: {user,comment}\r\n    }).then(res => {\r\n          dispatch({\r\n              type:'CLEAR_ERRORS'\r\n          })\r\n            dispatch( {\r\n        type: \"COMMENT_BLOG\",\r\n      payload: res.data,\r\n        \r\n    })\r\n        // window.location.href=\"/\"\r\n        return res.data;\r\n      })\r\n      .catch(error => {\r\n      // Error\r\n      if (error.response) {\r\n        dispatch({\r\n          type: \"SET_ERRORS\",\r\n          payload: error.response.data\r\n        });\r\n      }\r\n    });\r\n    // console.log(products.data);\r\n    \r\n}\r\n\r\nexport const FetchComment = (id) => async dispatch => {\r\n  \r\n  dispatch({\r\n    type:\"LOADING_UI\"\r\n  })\r\n    await axios({\r\n      method: \"get\",\r\n      url: `http://localhost:3000/comment/${id}`,\r\n    }).then(res => {\r\n            dispatch({\r\n        type: \"COMMENTS\",\r\n      payload: res.data,\r\n        \r\n    })\r\n        // window.location.href=\"/\"\r\n        return res.data;\r\n      })\r\n    // console.log(products.data);\r\n}\r\n\r\n\r\n// end comment actions\r\n\r\nexport const Logout = () => dispatch => {\r\n  localStorage.removeItem(\"jwt\");\r\n  dispatch({\r\n    type: \"SET_UNAUTHENTICATED\"\r\n  });\r\n  window.location.href = \"/login\";\r\n};\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}