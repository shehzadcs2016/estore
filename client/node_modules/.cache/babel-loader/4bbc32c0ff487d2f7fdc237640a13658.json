{"ast":null,"code":"import _regeneratorRuntime from\"F:\\\\softwears\\\\node-react\\\\shoppingSite\\\\shopping-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\softwears\\\\node-react\\\\shoppingSite\\\\shopping-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import{isAuthenticated}from\"../../auth\";export var LoginAction=function LoginAction(user){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var products;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:\"LOADING_UI\"});_context.next=3;return axios({method:\"post\",url:\"http://localhost:3000/signIn\",data:user}).then(function(res){if(typeof window!==\"undefined\"){localStorage.setItem(\"jwt\",JSON.stringify(res.data));}dispatch({type:\"SET_AUTHENTICATED\"});dispatch({type:\"CLEAR_ERRORS\"});// window.location.href=\"/\"\nreturn res.data;}).catch(function(error){// Error\nif(error.response){dispatch({type:\"SET_ERRORS\",payload:error.response.data});}});case 3:products=_context.sent;// console.log(products.data);\ndispatch({type:\"LOGIN\",payload:products});case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export var SignUpAction=function SignUpAction(user){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var products;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch({type:\"LOADING_UI\"});_context2.next=3;return axios({method:\"post\",url:\"http://localhost:3000/signUp\",data:user}).then(function(res){dispatch({type:\"CLEAR_ERRORS\"});// window.location.href=\"/\"\nreturn res.data;}).catch(function(error){// Error\nif(error.response){dispatch({type:\"SET_ERRORS\",payload:error.response.data});}});case 3:products=_context2.sent;// console.log(products.data);\ndispatch({type:\"SIGNUP\",payload:products});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var fetchProducts=function fetchProducts(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch({type:\"LOADING_UI\"});_context3.next=3;return axios({method:\"get\",url:\"http://localhost:3000/products\"}).then(function(res){dispatch({type:\"FETCH_PRODUCTS\",payload:res.data});return res;}).catch(function(error){// Error\nif(error.response){dispatch({type:\"SET_ERRORS\",payload:error.response.data});}});case 3:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var fetchProduct=function fetchProduct(id){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios({method:\"get\",url:\"http://localhost:3000/products/\".concat(id)}).then(function(res){dispatch({type:\"FETCH_PRODUCT\",payload:res.data});return res;});case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export var fetchPosts=function fetchPosts(){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return axios({method:\"get\",url:\"http://localhost:3000/post\"}).then(function(res){dispatch({type:\"FETCH_BLOGS\",payload:res.data});return res;});case 2:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x5){return _ref5.apply(this,arguments);};}();};export var fetchPost=function fetchPost(id){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return axios({method:\"get\",url:\"http://localhost:3000/post/\".concat(id)}).then(function(res){dispatch({type:\"FETCH_BLOG\",payload:res.data});return res;});case 2:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x6){return _ref6.apply(this,arguments);};}();};export var fetchRecord=function fetchRecord(search){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return axios({method:\"get\",url:\"http://localhost:3000/search/\".concat(search)}).then(function(res){dispatch({type:\"FETCH_SEARCH\",payload:res.data});return res;});case 2:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x7){return _ref7.apply(this,arguments);};}();};export var createCart=function createCart(product){return/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch){var user;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:user=isAuthenticated().user;_context8.next=3;return axios({method:\"post\",url:\"http://localhost:3000/cart\",data:{product:product,user:user}}).then(function(res){dispatch({type:\"CREATE_CART\",payload:res.data});window.location.href=\"/cart\";// window.location.href=\"/\"\nreturn res.data;}).catch(function(error){// Error\nif(error.response){dispatch({type:\"SET_ERRORS\",payload:error.response.data});}});case 3:case\"end\":return _context8.stop();}}},_callee8);}));return function(_x8){return _ref8.apply(this,arguments);};}();};export var fetchCarts=function fetchCarts(){return/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(dispatch){var user;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:if(!isAuthenticated()){_context9.next=4;break;}user=isAuthenticated().user._id;_context9.next=4;return axios({method:\"get\",url:\"http://localhost:3000/cart/\".concat(user)}).then(function(res){dispatch({type:\"FETCH_CARTS\",payload:res.data});return res.data;}).catch(function(error){// Error\nif(error.response){dispatch({type:\"SET_ERRORS\",payload:error.response.data});}});case 4:case\"end\":return _context9.stop();}}},_callee9);}));return function(_x9){return _ref9.apply(this,arguments);};}();};// comment actions\nexport var CommentAction=function CommentAction(id,comment){return/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(dispatch){var user;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:user=isAuthenticated().user;dispatch({type:\"LOADING_UI\"});_context10.next=4;return axios({method:\"post\",url:\"http://localhost:3000/post/comment/\".concat(id),data:{user:user,comment:comment}}).then(function(res){dispatch({type:\"CLEAR_ERRORS\"});dispatch({type:\"COMMENT_BLOG\",payload:res.data});// window.location.href=\"/\"\nreturn res.data;}).catch(function(error){// Error\nif(error.response){dispatch({type:\"SET_ERRORS\",payload:error.response.data});}});case 4:case\"end\":return _context10.stop();}}},_callee10);}));return function(_x10){return _ref10.apply(this,arguments);};}();};export var FetchComment=function FetchComment(id){return/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(dispatch){return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:dispatch({type:\"LOADING_UI\"});_context11.next=3;return axios({method:\"get\",url:\"http://localhost:3000/comment/\".concat(id)}).then(function(res){dispatch({type:\"COMMENTS\",payload:res.data});// window.location.href=\"/\"\nreturn res.data;});case 3:case\"end\":return _context11.stop();}}},_callee11);}));return function(_x11){return _ref11.apply(this,arguments);};}();};// end comment actions\nexport var Logout=function Logout(){return function(dispatch){localStorage.removeItem(\"jwt\");dispatch({type:\"SET_UNAUTHENTICATED\"});window.location.href=\"/login\";};};","map":{"version":3,"sources":["F:/softwears/node-react/shoppingSite/shopping-front/src/redux/actions/index.js"],"names":["axios","isAuthenticated","LoginAction","user","dispatch","type","method","url","data","then","res","window","localStorage","setItem","JSON","stringify","catch","error","response","payload","products","SignUpAction","fetchProducts","fetchProduct","id","fetchPosts","fetchPost","fetchRecord","search","createCart","product","location","href","fetchCarts","_id","CommentAction","comment","FetchComment","Logout","removeItem"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { isAuthenticated } from \"../../auth\";\r\n\r\nexport const LoginAction = user => async dispatch => {\r\n  dispatch({\r\n    type: \"LOADING_UI\"\r\n  });\r\n  const products = await axios({\r\n    method: \"post\",\r\n    url: \"http://localhost:3000/signIn\",\r\n    data: user\r\n  })\r\n    .then(res => {\r\n      if (typeof window !== \"undefined\") {\r\n        localStorage.setItem(\"jwt\", JSON.stringify(res.data));\r\n      }\r\n      dispatch({\r\n        type: \"SET_AUTHENTICATED\"\r\n      });\r\n      dispatch({\r\n        type: \"CLEAR_ERRORS\"\r\n      });\r\n      // window.location.href=\"/\"\r\n      return res.data;\r\n    })\r\n    .catch(error => {\r\n      // Error\r\n      if (error.response) {\r\n        dispatch({\r\n          type: \"SET_ERRORS\",\r\n          payload: error.response.data\r\n        });\r\n      }\r\n    });\r\n  // console.log(products.data);\r\n\r\n  dispatch({\r\n    type: \"LOGIN\",\r\n    payload: products\r\n  });\r\n};\r\n\r\nexport const SignUpAction = user => async dispatch => {\r\n  dispatch({\r\n    type: \"LOADING_UI\"\r\n  });\r\n  const products = await axios({\r\n    method: \"post\",\r\n    url: \"http://localhost:3000/signUp\",\r\n    data: user\r\n  })\r\n    .then(res => {\r\n      dispatch({\r\n        type: \"CLEAR_ERRORS\"\r\n      });\r\n\r\n      // window.location.href=\"/\"\r\n      return res.data;\r\n    })\r\n    .catch(error => {\r\n      // Error\r\n      if (error.response) {\r\n        dispatch({\r\n          type: \"SET_ERRORS\",\r\n          payload: error.response.data\r\n        });\r\n      }\r\n    });\r\n  // console.log(products.data);\r\n  dispatch({\r\n    type: \"SIGNUP\",\r\n    payload: products\r\n  });\r\n};\r\n\r\nexport const fetchProducts = () => async dispatch => {\r\n  dispatch({\r\n    type: \"LOADING_UI\"\r\n  });\r\n  await axios({\r\n    method: \"get\",\r\n    url: `http://localhost:3000/products`\r\n  })\r\n    .then(res => {\r\n      dispatch({\r\n        type: \"FETCH_PRODUCTS\",\r\n        payload: res.data\r\n      });\r\n\r\n      return res;\r\n    })\r\n    .catch(error => {\r\n      // Error\r\n      if (error.response) {\r\n        dispatch({\r\n          type: \"SET_ERRORS\",\r\n          payload: error.response.data\r\n        });\r\n      }\r\n    });\r\n  // console.log(products.data,\"sabjah\");\r\n};\r\n\r\nexport const fetchProduct = id => async dispatch => {\r\n  // console.log(id,\"iid\");\r\n\r\n  await axios({\r\n    method: \"get\",\r\n    url: `http://localhost:3000/products/${id}`\r\n  }).then(res => {\r\n    dispatch({\r\n      type: \"FETCH_PRODUCT\",\r\n      payload: res.data\r\n    });\r\n    return res;\r\n  });\r\n  // console.log(products.data);\r\n};\r\n\r\nexport const fetchPosts = () => async dispatch => {\r\n  await axios({\r\n    method: \"get\",\r\n    url: `http://localhost:3000/post`\r\n  }).then(res => {\r\n    dispatch({\r\n      type: \"FETCH_BLOGS\",\r\n      payload: res.data\r\n    });\r\n    return res;\r\n  });\r\n  // console.log(posts.data);\r\n};\r\n\r\nexport const fetchPost = id => async dispatch => {\r\n  await axios({\r\n    method: \"get\",\r\n    url: `http://localhost:3000/post/${id}`\r\n  }).then(res => {\r\n    dispatch({\r\n      type: \"FETCH_BLOG\",\r\n      payload: res.data\r\n    });\r\n    return res;\r\n  });\r\n};\r\n\r\nexport const fetchRecord = search => async dispatch => {\r\n  await axios({\r\n    method: \"get\",\r\n    url: `http://localhost:3000/search/${search}`\r\n  }).then(res => {\r\n    dispatch({\r\n      type: \"FETCH_SEARCH\",\r\n      payload: res.data\r\n    });\r\n    return res;\r\n  });\r\n\r\n  // console.log(sea);\r\n};\r\n\r\nexport const createCart = product => async dispatch => {\r\n  const user = isAuthenticated().user;\r\n  await axios({\r\n    method: \"post\",\r\n    url: `http://localhost:3000/cart`,\r\n    data: { product, user }\r\n  })\r\n    .then(res => {\r\n      dispatch({\r\n        type: \"CREATE_CART\",\r\n        payload: res.data\r\n      });\r\n      window.location.href = \"/cart\";\r\n      // window.location.href=\"/\"\r\n      return res.data;\r\n    })\r\n    .catch(error => {\r\n      // Error\r\n      if (error.response) {\r\n        dispatch({\r\n          type: \"SET_ERRORS\",\r\n          payload: error.response.data\r\n        });\r\n      }\r\n    });\r\n  // console.log(cart.data);\r\n};\r\n\r\nexport const fetchCarts = () => async dispatch => {\r\n  if (isAuthenticated()) {\r\n    const user = isAuthenticated().user._id;\r\n    await axios({\r\n      method: \"get\",\r\n      url: `http://localhost:3000/cart/${user}`\r\n    })\r\n      .then(res => {\r\n        dispatch({\r\n          type: \"FETCH_CARTS\",\r\n          payload: res.data\r\n        });\r\n        return res.data;\r\n      })\r\n      .catch(error => {\r\n        // Error\r\n        if (error.response) {\r\n          dispatch({\r\n            type: \"SET_ERRORS\",\r\n            payload: error.response.data\r\n          });\r\n        }\r\n      });\r\n  }\r\n  // console.log(cart.data,\"cart\");\r\n};\r\n// comment actions\r\n\r\nexport const CommentAction = (id, comment) => async dispatch => {\r\n  const user = isAuthenticated().user;\r\n  dispatch({\r\n    type: \"LOADING_UI\"\r\n  });\r\n  await axios({\r\n    method: \"post\",\r\n    url: `http://localhost:3000/post/comment/${id}`,\r\n    data: { user, comment }\r\n  })\r\n    .then(res => {\r\n      dispatch({\r\n        type: \"CLEAR_ERRORS\"\r\n      });\r\n      dispatch({\r\n        type: \"COMMENT_BLOG\",\r\n        payload: res.data\r\n      });\r\n      // window.location.href=\"/\"\r\n      return res.data;\r\n    })\r\n    .catch(error => {\r\n      // Error\r\n      if (error.response) {\r\n        dispatch({\r\n          type: \"SET_ERRORS\",\r\n          payload: error.response.data\r\n        });\r\n      }\r\n    });\r\n  // console.log(products.data);\r\n};\r\n\r\nexport const FetchComment = id => async dispatch => {\r\n  dispatch({\r\n    type: \"LOADING_UI\"\r\n  });\r\n  await axios({\r\n    method: \"get\",\r\n    url: `http://localhost:3000/comment/${id}`\r\n  }).then(res => {\r\n    dispatch({\r\n      type: \"COMMENTS\",\r\n      payload: res.data\r\n    });\r\n    // window.location.href=\"/\"\r\n    return res.data;\r\n  });\r\n  // console.log(products.data);\r\n};\r\n\r\n// end comment actions\r\n\r\nexport const Logout = () => dispatch => {\r\n  localStorage.removeItem(\"jwt\");\r\n  dispatch({\r\n    type: \"SET_UNAUTHENTICATED\"\r\n  });\r\n  window.location.href = \"/login\";\r\n};\r\n"]},"metadata":{},"sourceType":"module"}